"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[838],{1838:(Q,d,n)=>{n.r(d),n.d(d,{ProfileModule:()=>M});var m=n(6814),f=n(3403),a=n(6825);const Z=(0,a.X$)("fade",[(0,a.SB)("valid",(0,a.oB)({opacity:1})),(0,a.eR)("inValid <=> valid",(0,a.jt)(500)),(0,a.SB)("inValid",(0,a.oB)({opacity:0}))]);var r=n(6223),U=n(7921),y=n(7398),x=n(3620),t=n(5879),c=n(9862);let A=(()=>{class e{constructor(o){this._HttpClient=o}getCountries(o){return this._HttpClient.get(`https://anchormt-world-staging-at4dfab73a-lz.a.run.app/countries/${o}`)}getAllCountries(){return this._HttpClient.get("https://anchormt-world-staging-at4dfab73a-lz.a.run.app/countries")}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(c.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var N=n(6940),P=n(2425),T=n(2032),p=n(1941),g=n(7753),I=n(3680);function F(e,l){1&e&&(t.TgZ(0,"h1",14),t._uU(1,"Please Compelte Your Data"),t.qZA())}function L(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," First Name is required "),t.qZA())}function J(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Last Name is required "),t.qZA())}function w(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," age is required "),t.qZA())}function S(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," min allowed age 8 years "),t.qZA())}function Y(e,l){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&e){const o=l.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}const q=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:(()=>{class e{constructor(o,i,s,u){this._profile=o,this._All=i,this.toastr=s,this._Router=u,this.isValid=!1,this.myControl=new r.NI("",r.kI.required),this.options=[],this.ShowError=!1,this.LoginForm=new r.cw({firstName:new r.NI(null,r.kI.required),lastName:new r.NI(null,[r.kI.required]),age:new r.NI(null,[r.kI.required,r.kI.pattern(/^([1-9][0-9]{1,2}|8|9)$/)]),address:new r.NI(null,r.kI.required)})}ngOnInit(){this.SUB=this._profile.getAllCountries().subscribe({next:o=>{o.data.forEach(i=>{this.options.push(i.countryName)}),this.filteredOptions=this.myControl.valueChanges.pipe((0,U.O)(""),(0,y.U)(i=>this._filter(i||"")),(0,x.b)(800))}}),this.LoginForm.valueChanges.subscribe(o=>{this.isValid=!(!this.LoginForm.valid||!this.myControl.valid)})}_filter(o){const i=o.toLowerCase();return this.options.filter(s=>s.toLowerCase().includes(i))}login(){this.LoginForm.valid&&this.myControl.valid&&(this.profileUser={...this.LoginForm.value,country:this.myControl.value},this._All.profileUser.next(this.profileUser),this.toastr.success("Your Profile is Completed","Congratulations!"),setTimeout(()=>{this._Router.navigate(["/confirm"])},1e3))}ngOnDestroy(){this.SUB.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(A),t.Y36(N.b),t.Y36(P._W),t.Y36(f.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-profile"]],decls:35,vars:12,consts:[[1,"flex","flex-row","justify-center","items-center","min-h-screen"],[1,"flex","flex-col","justify-center","items-center","sm:w-1/4","md:w-3/4","lg:w-1/2","sm:h-1/4","lg:h-2/4","bg-gray-700","p-5","rounded-xl","profile",3,"formGroup"],[1,"text-center","text-white","text-3xl","my-5"],["class","text-center\ttext-red-600\t lg:text-2xl sm:text-sm\tmy-1",4,"ngIf"],[1,"w-full"],["matInput","","type","text","formControlName","firstName"],[4,"ngIf"],["matInput","","type","text","formControlName","lastName"],["matInput","","type","number","formControlName","age"],["type","text","aria-label","country","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","address"],["type","submit",1,"rounded-full","bg-indigo-500","p-5","w-1/2","text-green-200",3,"click"],[1,"text-center","text-red-600","lg:text-2xl","sm:text-sm","my-1"],[3,"value"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"h1",2),t._uU(3,"User Profile"),t.qZA(),t.YNc(4,F,2,0,"h1",3),t.TgZ(5,"mat-form-field",4)(6,"mat-label"),t._uU(7,"First Name"),t.qZA(),t._UZ(8,"input",5),t.YNc(9,L,2,0,"mat-error",6),t.qZA(),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Last Name"),t.qZA(),t._UZ(13,"input",7),t.YNc(14,J,2,0,"mat-error",6),t.qZA(),t.TgZ(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"age"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,w,2,0,"mat-error",6),t.YNc(20,S,2,0,"mat-error",6),t.qZA(),t.TgZ(21,"mat-form-field",4)(22,"mat-label"),t._uU(23,"Country"),t.qZA(),t._UZ(24,"input",9),t.TgZ(25,"mat-autocomplete",null,10),t.YNc(27,Y,2,2,"mat-option",11),t.ALo(28,"async"),t.qZA()(),t.TgZ(29,"mat-form-field",4)(30,"mat-label"),t._uU(31,"Address"),t.qZA(),t._UZ(32,"textarea",12),t.qZA(),t.TgZ(33,"button",13),t.NdJ("click",function(){return i.login()}),t._uU(34,"NEXT"),t.qZA()()()),2&o){const s=t.MAs(26);let u,h,v,C;t.xp6(1),t.Q6J("formGroup",i.LoginForm),t.xp6(3),t.Q6J("ngIf",i.ShowError),t.xp6(5),t.Q6J("ngIf",null==(u=i.LoginForm.get("firstName"))?null:u.getError("required")),t.xp6(5),t.Q6J("ngIf",null==(h=i.LoginForm.get("lastName"))?null:h.getError("required")),t.xp6(5),t.Q6J("ngIf",null==(v=i.LoginForm.get("age"))?null:v.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(C=i.LoginForm.get("age"))?null:C.getError("pattern")),t.xp6(4),t.Q6J("formControl",i.myControl)("matAutocomplete",s),t.xp6(3),t.Q6J("ngForOf",t.lcZ(28,10,i.filteredOptions)),t.xp6(6),t.Q6J("@fade",i.isValid?"valid":"inValid")}},dependencies:[m.sg,m.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.oH,r.sg,r.u,T.Nt,p.KE,p.hX,p.TO,g.XC,I.ey,g.ZL,m.Ov],styles:["@media screen and (min-width: 640px) and (max-width: 768px){.profile[_ngcontent-%COMP%]{width:60%!important}}"],data:{animation:[Z]}}),e})(),title:"User Profile"}];let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(q),f.Bz]}),e})();var B=n(1960);let M=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,O,B.I,c.JF]}),e})()}}]);